<span id="hidden-autonumber"></span>

<h1 class="article-title">STM32串口</h1>

#Uart

>串口通信是嵌入式单片机常用的一种异步串行通信方式，所谓串行是指其数据帧是以先后顺序以bit为单位发送，接收后要根据收到的bit数据重组出原始信息。因为串口通常使用异步通信的方式，通信过程中没有时钟线的参与，所以发送接收双方需提前**“约定通信快慢和相应标志”**，本章将对串口的配置和使用做一些简单讲解。

##同步通信及异步通信

同步通信通常通过时钟线的边沿检测信号，因此同步通信需要时钟线的参与以保持通信双方的时钟同步（如SPI, IIC），这里的同步不仅包括通信速率的同步，也包括时钟相位（上升/下降沿位置）同步。同步通信通常用于处理大量、连续的数据。

而异步通信并不是通过时钟边沿检测信号，其也没有时钟线。因此发送时通常会有一个标志告诉接收机信息开始传输，然后接收机便根据约定好的**单帧格式**接收数据，正因如此，异步通信不需要有特定的开始时间和间隔时间，可以**在任意时间**发送信息。异步通信通常用于处理少量、不连续的数据。

|        同步通信        |         异步通信         |
| :--------------------: | :----------------------: |
| 有时钟线，时序要求严格 | 无时钟线，时序要求较宽松 |
|       通信效率高       |       通信效率较低       |
| 通常用于连续、大量数据 |  通常用于间断、少量数据  |
|     可用于点对多点     |      只适用于点对点      |
##串口通信的几个关键参数
###波特率
通信的两个设备的波特率需要设置相同，串口通信时各个bit位的解析是根据预设波特率解析的，波特率不匹配会导致接收乱码。常用的波特率为115200和9600，在CubeMX中也可以配置任意数的波特率。

###数据长度
通常可以设置为9位和8位数据长度，其中最后一位为校验位，在使用8位长度时，实际数据范围：0 ~ 127，能包含所有ASCII码，正因如此，通常串口发送时的最小单位是**一个字符**

###校验位
如上所说，串口可以自带奇偶校验功能，原理为通过最后设置最后一个bit位，保证数据帧整体和为奇数/偶数，如果接收到的不是对应设置的奇数/偶数，则说明数据出错

###停止位长度
默认设置为1bit的高电平，和开始位相反，以代表这一帧数据完毕


##教程分布

- [串口发送及中断接收](./串口发送及中断接收.md)
- [串口的格式化输出](./串口的格式化输出.md)
- [串口DMA传输](./串口DMA传输.md)
- [简单协议编写](./简单协议编写.md)