<span id="hidden-autonumber"></span>

<h1 class="article-title">STM32中断</h1>

# NVIC

> NVIC 的全称是 Nested vectoredinterrupt controller，即嵌套向量中断控制器。

## 优先级
对于 M3 和 M4 内核的 MCU，每个中断的优先级都是用寄存器中的 8 位来设置的。8 位的话就可以设置 2<sup>8</sup>=256 级中断，实际中用不了这么多，所以芯片厂商根据自己生产的芯片做出了调整。比如 ST 的 STM32F1xx 和 F4xx 只使用了这个 8 位中的高四位[7:4]，低四位取零，这样 2<sup>4</sup>=16，只能表示 16 级中断嵌套。**因此我们所用的单片机中共能通过四个 bit 位分配 16 级优先级**

## 优先级分组
STM32 的中断优先级分为抢占优先级和子优先级，可以将抢占优先级理解为优先级的分组，子优先级是组内的优先级划分。我们可以通过分配四个 bit 位来确定分组数和每个组的大小。_例如：[2:2]分组时，有四个组，每个组有四个成员_